
## 環境変数の永続化とは？

環境変数は通常、ターミナルを閉じると消えてしまいます。永続化することで、毎回設定し直す必要がなくなります。

## .envファイルの配置場所

Gemini CLIは以下の2つの方法で環境変数を保存できます：

### 1. プロジェクト固有の設定
```bash
# プロジェクトフォルダ内に作成
mkdir -p .gemini
echo 'GOOGLE_CLOUD_PROJECT="your-project-id"' >> .gemini/.env
```
- そのプロジェクトでのみ有効
- プロジェクトごとに異なる設定を使いたい場合に便利

### 2. ユーザー全体の設定
```bash
# ホームディレクトリに作成
mkdir -p ~/.gemini
cat >> ~/.gemini/.env <<'EOF'
GOOGLE_CLOUD_PROJECT="your-project-id"
GEMINI_API_KEY="your-gemini-api-key"
EOF
```
- どのディレクトリからでも使える
- 基本的な設定に適している

## ファイル検索の優先順位

Gemini CLIは以下の順序でファイルを探します：

1. **現在のディレクトリから上に向かって検索**
   - `.gemini/.env`
   - `.env`
   
2. **ホームディレクトリで検索**
   - `~/.gemini/.env`
   - `~/.env`

## 重要なポイント

⚠️ **最初に見つかったファイルのみが使われます**
- 複数のファイルがあっても、マージされません
- より具体的な場所にあるファイルが優先されます

## 実践例

```bash
# プロジェクト用の設定（優先度高）
project/
  └── .gemini/.env  ← プロジェクト内ではこれが使われる

# 全体用の設定（フォールバック）
~/.gemini/.env  ← プロジェクト設定がない場合はこれが使われる
```

